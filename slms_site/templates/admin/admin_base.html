{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel | SLMS</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        body {
            background-color: #DADFEF;
            font-family: 'Inter', sans-serif;
        }

        .sidebar {
            height: 100vh;
            background: white;
            width: 220px;
            position: fixed;
            padding-top: 30px;
            border-right: 1px solid #dee2e6;
        }

        .sidebar .logo-wrapper {
            width: 80%;
            height: 100px;
            margin: 0 auto 25px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .sidebar .logo-wrapper img {
            max-width: 100%;
            max-height: 90%;
        }

        .sidebar a {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #1c1f22;
            padding: 12px 20px;
            margin: 5px;
            border-radius: 12px;
            transition: .3s;
            text-decoration: none;
            font-weight: 500;
        }

        .sidebar a.active,
        .sidebar a:hover {
            background: #d0ebff;
            color: #0c63e4;
        }

        .main-content {
            margin-left: 230px;
            padding: 15px;
        }

        .card {
            border-radius: 20px;
            transition: transform 0.3s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.12);
        }

        .card-header-custom {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 13px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>

<body>
    <div class="sidebar">
        <div class="logo-wrapper mb-4">
            <img src="{% static 'images/logopng.png' %}" alt="SLMS Logo">
        </div>
        <a href="{% url 'admin_panel:dashboard' %}"
            class="{% if request.path == '/admin/dashboard/' %}active{% endif %}"><i class="bi bi-speedometer2"></i>
            Dashboard</a>
        <a href="{% url 'admin_panel:students_list' %}"
            class="{% if '/students/' in request.path %}active{% endif %}"><i class="bi bi-people-fill"></i>
            Students</a>
        <a href="{% url 'admin_panel:courses_list' %}" class="{% if '/courses/' in request.path %}active{% endif %}"><i
                class="bi bi-journal-bookmark"></i> Courses</a>
        {% if user.role == 'SuperAdmin' %}
        <li class="nav-item">
            <a class="nav-link" href="{% url 'admin_panel:admin_control' %}">
                <i class="bi bi-gear"></i> Super Admin Control
            </a>
        </li>
        {% endif %}


        <a href="#" data-bs-toggle="modal" data-bs-target="#logoutModal">
            <i class="bi bi-box-arrow-right"></i> Logout
        </a>
    </div>

    <div class="main-content">
        <header class="header card-header-custom d-flex justify-content-between align-items-center">
    <div>
        <h5>Hi {{ user.get_full_name|default:user.username }}</h5>
        <h3 class="text-muted">Welcome To Admin Panel!</h3>
    </div>
    
    <a href="{% url 'change_password' %}" class="btn btn-sm  d-flex align-items-center">
        <i class="bi bi-lock me-2"></i>
        Change Password
    </a>
</header>


        {% block content %}{% endblock %}
    </div>
    {% include 'students/logout_model.html' %}


<!-- Toast container -->
<div aria-live="polite" aria-atomic="true" class="position-relative">
  <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1080;">
    {% for message in messages %}
      <div class="toast align-items-center text-white 
                  {% if message.tags == 'success' %}bg-success
                  {% elif message.tags == 'error' %}bg-danger
                  {% elif message.tags == 'warning' %}bg-warning text-dark
                  {% else %}bg-info{% endif %}
                  border-0"
           role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="3000">
        <div class="d-flex">
          <div class="toast-body">
            {{ message }}
          </div>
          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    const toastElList = [].slice.call(document.querySelectorAll('.toast'))
    toastElList.map(function(toastEl) {
      const toast = new bootstrap.Toast(toastEl)
      toast.show()
    })
  })
</script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>